---
title: a3s-context
description: Hierarchical Context Management Documentation
---

# a3s-context

**a3s-context** provides hierarchical context management for AI memory and knowledge.

## Features

| Feature | Description |
|---------|-------------|
| **Hierarchical Memory** | Working / Short-term / Long-term memory tiers |
| **Context Providers** | Pluggable providers for external knowledge sources |
| **Compaction** | Automatic summarization for long conversations |

## Installation

```bash
cargo add a3s_context
```

## Usage

```rust
use a3s_context::{Context, MemoryTier};

#[tokio::main]
async fn main() {
    let ctx = Context::new();

    // Store in working memory (fast, temporary)
    ctx.store(MemoryTier::Working, "current_task", "refactoring auth").await;

    // Store in short-term memory (session-scoped)
    ctx.store(MemoryTier::ShortTerm, "user_preference", "verbose output").await;

    // Store in long-term memory (persistent)
    ctx.store(MemoryTier::LongTerm, "project_structure", "monorepo with crates/").await;

    // Retrieve data
    let task = ctx.retrieve("current_task").await;
}
```

## Memory Tiers

| Tier | Scope | Use Case |
|------|-------|----------|
| **Working** | Current operation | Active task context |
| **Short-term** | Current session | User preferences, recent actions |
| **Long-term** | Persistent | Project knowledge, learned patterns |

## Context Providers

Extend with custom knowledge sources:

```rust
use a3s_context::{ContextProvider, Context};

struct GitProvider;

impl ContextProvider for GitProvider {
    async fn get(&self, key: &str) -> Option<String> {
        // Fetch from git history
        None
    }
}

let ctx = Context::new();
ctx.register_provider("git", GitProvider);
```

## Compaction

Automatic summarization when context grows too large:

```rust
// Enable auto-compaction
ctx.set_auto_compact(true);
ctx.set_max_tokens(100_000);

// Manual compaction
ctx.compact().await;
```

## Links

- [GitHub Repository](https://github.com/A3S-Lab/Context)
- [crates.io](https://crates.io/crates/a3s_context)
