---
title: A3S Search
description: Embeddable meta search engine library with multi-engine aggregation, consensus ranking, and headless browser support
---

# A3S Search

A3S Search is an embeddable meta search engine library that aggregates results from multiple search engines, deduplicates them, and ranks them using a consensus-based scoring algorithm inspired by [SearXNG](https://github.com/searxng/searxng).

## Key Features

- **Multi-Engine Aggregation** — Parallel async search across 8 built-in engines with configurable timeouts.
- **Consensus Ranking** — Results found by multiple engines rank higher. Per-engine weight multipliers.
- **Smart Deduplication** — Merges duplicate results by normalized URL, keeping the best title, snippet, and metadata.
- **Headless Browser** — JavaScript-capable rendering for Google, Baidu, and Bing via Chrome DevTools Protocol.
- **Proxy Pool** — Round-robin and random proxy rotation with dynamic provider support.
- **Custom Engines** — Implement the `Engine` trait to add any search source.
- **CLI Tool** — Command-line interface for quick searches with multiple output formats.
- **Native SDKs** — TypeScript (NAPI-RS) and Python (PyO3) bindings.

## Architecture

```
┌──────────────────────────────────────────────────────────┐
│                        Search                            │
│  ┌────────────────────────────────────────────────────┐  │
│  │                Engine Registry                     │  │
│  │  ┌─────────┐ ┌───────┐ ┌─────────┐ ┌──────────┐  │  │
│  │  │DuckDuck │ │ Brave │ │Wikipedia│ │ Sogou    │  │  │
│  │  │  Go     │ │       │ │  (API)  │ │ / 360    │  │  │
│  │  └────┬────┘ └───┬───┘ └────┬────┘ └─────┬────┘  │  │
│  │       │          │          │             │        │  │
│  │       └──── HttpFetcher ────┘             │        │  │
│  │                                           │        │  │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐  │        │  │
│  │  │ Google   │ │  Baidu   │ │ Bing CN  │  │        │  │
│  │  │(wt: 1.5) │ │          │ │          │  │        │  │
│  │  └────┬─────┘ └─────┬────┘ └─────┬────┘  │        │  │
│  │       │              │            │        │        │  │
│  │       └── BrowserFetcher ─────────┘        │        │  │
│  │               └─ BrowserPool               │        │  │
│  └────────────────────────────────────────────┘        │  │
│                        │ parallel search                  │
│  ┌────────────────────────────────────────────────────┐  │
│  │                   Aggregator                       │  │
│  │  • Deduplicate by normalized URL                   │  │
│  │  • Merge results from multiple engines             │  │
│  │  • Calculate consensus-based scores                │  │
│  │  • Sort by score (descending)                      │  │
│  └────────────────────────────────────────────────────┘  │
│                        │                                  │
│                  SearchResults                            │
└──────────────────────────────────────────────────────────┘
```

## Built-in Engines

### HTTP Engines (fast, no JavaScript)

| Engine | Shortcut | Weight | Paging | SafeSearch | Language |
|--------|----------|--------|--------|------------|----------|
| DuckDuckGo | `ddg` | 1.0 | Yes | Yes | International |
| Brave | `brave` | 1.0 | Yes | Yes | International |
| Wikipedia | `wiki` | 1.2 | No | No | Multi-language |
| Sogou | `sogou` | 1.0 | No | No | Chinese |
| 360 Search | `360` | 1.0 | No | No | Chinese |

### Headless Browser Engines (JavaScript rendering, `headless` feature)

| Engine | Shortcut | Weight | Paging | SafeSearch | Language |
|--------|----------|--------|--------|------------|----------|
| Google | `g` | 1.5 | Yes | Yes | International |
| Baidu | `baidu` | 1.0 | No | No | Chinese |
| Bing China | `bing_cn` | 1.0 | No | No | Chinese |

## Ranking Algorithm

A3S Search uses a consensus-based scoring algorithm:

```
For each result:
    weight = 1.0
    for each engine that found this result:
        weight *= engine.weight
    weight *= number_of_engines

    score = sum(weight / position) for each engine position
```

Results found by multiple engines receive a significant score boost. Higher-weighted engines (Google at 1.5, Wikipedia at 1.2) contribute more to the final score.

## Test Coverage

401 total tests (298 lib + 31 CLI + 103 SDK) with **91.15% Rust line coverage**.
