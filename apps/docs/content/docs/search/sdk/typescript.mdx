---
title: TypeScript SDK
description: Native Node.js bindings for A3S Search via NAPI-RS
---

# TypeScript SDK

Native Node.js bindings via [NAPI-RS](https://napi.rs/). The Rust search engine runs in-process — no HTTP server or subprocess.

## Installation

```bash
npm install @a3s-lab/search
```

Pre-built binaries ship for Windows x64, macOS x64/ARM64, and Linux x64/ARM64 (glibc and musl).

### Build from Source

```bash
cd crates/search/sdk/node
npm run build
```

Requires Rust toolchain and `@napi-rs/cli`.

## A3SSearch

```typescript
import { A3SSearch } from '@a3s-lab/search';

const search = new A3SSearch();
const response = await search.search('rust programming');
```

### Methods

| Method | Signature | Description |
|--------|-----------|-------------|
| `search` | `(query: string, options?: SearchOptions) => Promise<SearchResponse>` | Run a search |
| `setProxyPool` | `(urls: string[]) => Promise<void>` | Set instance-level proxy pool |
| `setProxyPoolEnabled` | `(enabled: boolean) => void` | Enable or disable proxy rotation |
| `isProxyPoolEnabled` | `() => boolean` | Check if proxy pool is active |
| `proxyPoolSize` | `() => Promise<number>` | Number of proxies in pool |

## SearchOptions

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `engines` | `string[]` | `['ddg', 'wiki']` | Engine shortcuts to use |
| `limit` | `number` | `undefined` | Max results to return |
| `timeout` | `number` | `10` | Per-engine timeout in seconds |
| `proxy` | `string` | `undefined` | Single proxy URL for this request |
| `proxyPool` | `string[]` | `undefined` | Per-request proxy pool (overrides instance pool) |

## Engine Shortcuts

| Shortcut | Engine | Method |
|----------|--------|--------|
| `ddg` | DuckDuckGo | HTTP |
| `brave` | Brave Search | HTTP |
| `bing` | Bing | HTTP |
| `wiki` | Wikipedia | JSON API |
| `sogou` | Sogou (搜狗) | HTTP |
| `360` | 360 Search | HTTP |
| `g` | Google | Headless |
| `baidu` | Baidu (百度) | Headless |
| `bing_cn` | Bing China (必应) | Headless |

Headless engines (`g`, `baidu`, `bing_cn`) require Chrome. See [Headless Browser](/docs/search/browser).

## Types

### SearchResponse

| Field | Type | Description |
|-------|------|-------------|
| `results` | `SearchResult[]` | Ranked, deduplicated results |
| `count` | `number` | Number of results |
| `durationMs` | `number` | Search duration in ms |
| `errors` | `EngineError[]` | Per-engine errors |

### SearchResult

| Field | Type | Description |
|-------|------|-------------|
| `url` | `string` | Result URL |
| `title` | `string` | Result title |
| `content` | `string` | Snippet or description |
| `resultType` | `string` | `'web'`, `'image'`, `'video'`, `'news'`, `'answer'` |
| `engines` | `string[]` | Engine shortcuts that found this result |
| `score` | `number` | Consensus score |
| `thumbnail` | `string \| undefined` | Thumbnail URL |
| `publishedDate` | `string \| undefined` | Publication date |

### EngineError

| Field | Type | Description |
|-------|------|-------------|
| `engine` | `string` | Engine shortcut |
| `message` | `string` | Error message |

## Error Handling

```typescript
try {
  const response = await search.search('query');
} catch (err) {
  if (err instanceof SearchError) {
    console.error(`Search failed: ${err.message}`);
  }
}

// Per-engine failures don't throw — check response.errors
for (const err of response.errors) {
  console.warn(`Engine '${err.engine}' failed: ${err.message}`);
}
```

| Class | Description |
|-------|-------------|
| `A3SSearchError` | Base error for all SDK errors |
| `NativeModuleError` | Native module failed to load |
| `SearchError` | Search operation failed |

## Exports

```typescript
import {
  A3SSearch,
  A3SSearchError,
  NativeModuleError,
  SearchError,
} from '@a3s-lab/search';

import type {
  SearchOptions,
  SearchResponse,
  SearchResult,
  EngineError,
} from '@a3s-lab/search';
```
