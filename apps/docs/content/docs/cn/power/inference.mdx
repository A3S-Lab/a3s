---
title: 推理
description: 推理参数、采样策略和性能调优
---

import { TypeTable } from 'fumadocs-ui/components/type-table';

# 推理

## 推理参数

<TypeTable
  type={{
    "temperature": {
      description: "说明: 采样温度，越高越随机 · 默认值: 0.8",
    },
    "top_p": {
      description: "说明: nucleus 采样概率 · 默认值: 0.9",
    },
    "top_k": {
      description: "说明: top-k 采样 · 默认值: 40",
    },
    "num_predict": {
      description: "说明: 最大生成 token 数 · 默认值: 128",
    },
    "num_ctx": {
      description: "说明: 上下文窗口大小 · 默认值: 2048",
    },
    "repeat_penalty": {
      description: "说明: 重复惩罚系数 · 默认值: 1.1",
    },
  }}
/>

## KV 缓存

A3S Power 支持 KV 缓存复用，通过前缀匹配加速多轮对话，减少重复计算。

## GPU 加速

- **macOS**：Metal（Apple Silicon 和 AMD GPU）
- **Linux/Windows**：CUDA（NVIDIA GPU）

```bash
# 查看 GPU 信息
a3s-power info

# 指定 GPU 层数
a3s-power run llama3.2 --num-gpu 35
```

详细文档请参阅[英文版](/docs/en/power/inference)。
