---
title: 快速开始
description: 几分钟内启动本地模型推理
---

# 快速开始

## 安装

```bash
# Homebrew（macOS）
brew tap a3s-lab/tap https://github.com/A3S-Lab/homebrew-tap
brew install a3s-power

# Cargo（纯 Rust，无需 C++）
cargo install a3s-power

# 从源码构建
git clone https://github.com/A3S-Lab/Power.git && cd Power
cargo build --release
```

## 启动服务器

```bash
a3s-power serve
# 监听 http://127.0.0.1:11434
```

## 从 HuggingFace Hub 拉取模型

```bash
# 按量化标签拉取（自动解析文件名）
curl -N http://localhost:11434/v1/models/pull \
  -H "Content-Type: application/json" \
  -d '{"name": "bartowski/Llama-3.2-3B-Instruct-GGUF:Q4_K_M"}'
```

进度通过 SSE 流式返回：
```
data: {"status":"downloading","completed":209715200,"total":2147483648}
data: {"status":"verifying"}
data: {"status":"success","id":"bartowski/Llama-3.2-3B-Instruct-GGUF:Q4_K_M"}
```

## 注册本地模型

```bash
curl -X POST http://localhost:11434/v1/models \
  -H "Content-Type: application/json" \
  -d '{"name": "llama3.2:3b", "path": "/path/to/model.gguf"}'
```

## 对话

```bash
curl http://localhost:11434/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "llama3.2:3b",
    "messages": [{"role": "user", "content": "你好！"}]
  }'
```

## 使用 OpenAI SDK

```python
from openai import OpenAI

client = OpenAI(base_url="http://localhost:11434/v1", api_key="unused")

response = client.chat.completions.create(
    model="llama3.2:3b",
    messages=[{"role": "user", "content": "用一句话解释 Rust"}]
)
print(response.choices[0].message.content)
```

```typescript
import OpenAI from "openai";

const client = new OpenAI({ baseURL: "http://localhost:11434/v1", apiKey: "unused" });
const response = await client.chat.completions.create({
  model: "llama3.2:3b",
  messages: [{ role: "user", content: "你好！" }],
});
console.log(response.choices[0].message.content);
```

## 流式输出

```python
stream = client.chat.completions.create(
    model="llama3.2:3b",
    messages=[{"role": "user", "content": "从 1 数到 5"}],
    stream=True
)
for chunk in stream:
    if chunk.choices[0].delta.content:
        print(chunk.choices[0].delta.content, end="", flush=True)
```

## 健康检查

```bash
curl http://localhost:11434/health
```

```json
{
  "status": "ok",
  "version": "0.2.0",
  "uptime_seconds": 42,
  "loaded_models": 1,
  "tee": { "enabled": false, "type": "none", "models_verified": false }
}
```
