---
title: Skills
description: 内置和自定义 skill 系统
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { TypeTable } from 'fumadocs-ui/components/type-table';
import { Callout } from 'fumadocs-ui/components/callout';

# Skills

Skills 是可复用的提示模板，通过专业指令增强 agent 的系统提示。A3S Code 内置 7 个 skills，并支持通过 Markdown 文件自定义 skills。

## 内置 Skills

<TypeTable
  type={
    "code-search": {
      description: "工作区语义代码搜索",
    },
    "code-review": {
      description: "风格、安全和资源问题检测",
    },
    "explain-code": {
      description: "清晰解释复杂代码",
    },
    "find-bugs": {
      description: "Bug 检测和修复建议",
    },
    "builtin-tools": {
      description: "指导 LLM 有效使用工具",
    },
    "delegate-task": {
      description: "将任务拆分为并行子 agent",
    },
    "find-skills": {
      description: "动态发现可用 skills",
    },
  }
/>

## 启用内置 Skills

<Tabs groupId="lang" items={['Rust', 'Python', 'Node.js']}>
<Tab value="Rust">
```rust
use a3s_code_core::{Agent, SessionOptions};

let opts = SessionOptions::new()
    .with_permissive_policy()
    .with_builtin_skills();

let session = agent.session("/my-project", Some(opts))?;
let result = session.send("Review the auth module for security issues", None).await?;
println!("{}", result.text);
```

**运行：** `cargo run --example test_builtin_skills`
**源码：** [`core/examples/test_builtin_skills.rs`](https://github.com/A3S-Lab/Code/blob/main/core/examples/test_builtin_skills.rs)
</Tab>
<Tab value="Python">
```python
session = agent.session("/my-project",
    permissive=True,
    builtin_skills=True,
)
result = await session.send("Review the auth module for security issues")
print(result.text)
```

**运行：** `python examples/test_custom_skills_agents.py`
**源码：** [`sdk/python/examples/test_custom_skills_agents.py`](https://github.com/A3S-Lab/Code/blob/main/sdk/python/examples/test_custom_skills_agents.py)
</Tab>
<Tab value="Node.js">
```javascript
const session = agent.session('/my-project', {
  permissive: true,
  builtinSkills: true,
});
const result = await session.send('Review the auth module for security issues');
console.log(result.text);
```

**运行：** `node examples/test_custom_skills_agents.js`
**源码：** [`sdk/node/examples/test_custom_skills_agents.js`](https://github.com/A3S-Lab/Code/blob/main/sdk/node/examples/test_custom_skills_agents.js)
</Tab>
</Tabs>

## 自定义 Skills

创建带 YAML frontmatter 的 Markdown 文件：

```markdown
---
name: api-docs
description: Generate OpenAPI documentation from code
triggers:
  - "generate docs"
  - "document api"
  - "openapi"
---

When asked to generate API documentation:
1. Read all handler files to understand the API surface
2. Extract route definitions, parameters, and response types
3. Generate OpenAPI 3.0 YAML format
4. Write to docs/openapi.yaml
```

然后加载：

<Tabs groupId="lang" items={['Rust', 'Python', 'Node.js']}>
<Tab value="Rust">
```rust
let opts = SessionOptions::new()
    .with_permissive_policy()
    .with_skills_from_dir("/my-project/.a3s/skills");

let session = agent.session("/my-project", Some(opts))?;
let result = session.send("Generate OpenAPI docs for the REST API", None).await?;
println!("{}", result.text);
```
</Tab>
<Tab value="Python">
```python
session = agent.session("/my-project",
    permissive=True,
    skill_dirs=["/my-project/.a3s/skills"],
)
result = await session.send("Generate OpenAPI docs for the REST API")
print(result.text)
```
</Tab>
<Tab value="Node.js">
```javascript
const session = agent.session('/my-project', {
  permissive: true,
  skillDirs: ['/my-project/.a3s/skills'],
});
const result = await session.send('Generate OpenAPI docs for the REST API');
console.log(result.text);
```
</Tab>
</Tabs>

## Skills + 规划

将 skills 与规划结合，处理复杂的多步骤任务：

<Tabs groupId="lang" items={['Rust', 'Python', 'Node.js']}>
<Tab value="Rust">
```rust
let opts = SessionOptions::new()
    .with_permissive_policy()
    .with_builtin_skills()
    .with_planning(true)
    .with_goal_tracking(true);

let session = agent.session("/my-project", Some(opts))?;
let result = session.send(
    "Review the entire codebase, find all bugs, fix them, and write a report",
    None,
).await?;
```
</Tab>
<Tab value="Python">
```python
session = agent.session("/my-project",
    permissive=True,
    builtin_skills=True,
    planning=True,
    goal_tracking=True,
)
result = await session.send(
    "Review the entire codebase, find all bugs, fix them, and write a report"
)
```
</Tab>
<Tab value="Node.js">
```javascript
const session = agent.session('/my-project', {
  permissive: true,
  builtinSkills: true,
  planning: true,
  goalTracking: true,
});
const result = await session.send(
  'Review the entire codebase, find all bugs, fix them, and write a report'
);
```
</Tab>
</Tabs>

<Callout type="info">
完整的 skills 文档，请参阅 [Skills](/cn/docs/code/skills)。
</Callout>

## API 参考

### SessionOptions

<TypeTable
  type={
    "内置 skills": {
      description: {`Rust: \`.with_builtin_skills()\` · Python: \`builtin_skills=True\` · Node.js: \`builtinSkills: true\` · 默认值: \`false\``},
    },
    "从目录加载 skills": {
      description: {`Rust: \`.with_skills_from_dir(path)\` · Python: \`skill_dirs=[path]\` · Node.js: \`skillDirs: [path]\` · 默认值: \`[]\``},
    },
    "自定义注册表": {
      description: {`Rust: \`.with_skill_registry(Arc::new(r))\` · Python: _（仅 Rust）_ · Node.js: _（仅 Rust）_ · 默认值: \`None\``},
    },
  }
/>

### Skill frontmatter 字段

<TypeTable
  type={
    "name": {
      description: {`类型: \`string\` · 必填: ✅ · 描述: 唯一 skill 标识符`},
    },
    "description": {
      description: {`类型: \`string\` · 必填: ✅ · 描述: skill 的功能描述`},
    },
    "triggers": {
      description: {`类型: \`string[]\` · 必填: ✅ · 描述: 激活 skill 的短语`},
    },
    "allowed-tools": {
      description: {`类型: \`string\` · 必填: ❌ · 描述: 工具访问模式（例如 \`"read(*), grep(*)"\`)`},
    },
    "kind": {
      description: {`类型: \`string\` · 必填: ❌ · 描述: \`instruction\`（默认）或 \`agent\``},
    },
    "tags": {
      description: {`类型: \`string[]\` · 必填: ❌ · 描述: 分类标签`},
    },
    "version": {
      description: {`类型: \`string\` · 必填: ❌ · 描述: 语义版本字符串`},
    },
  }
/>

### 内置 skills

<TypeTable
  type={
    "code-search": {
      description: "触发短语: &quot;find code&quot;, &quot;search for&quot; · 效果: 语义代码搜索",
    },
    "code-review": {
      description: "触发短语: &quot;review&quot;, &quot;check code&quot; · 效果: 风格 + 安全审查",
    },
    "explain-code": {
      description: "触发短语: &quot;explain&quot;, &quot;what does&quot; · 效果: 代码解释",
    },
    "find-bugs": {
      description: "触发短语: &quot;find bugs&quot;, &quot;debug&quot; · 效果: Bug 检测",
    },
    "builtin-tools": {
      description: "触发短语: _（始终激活）_ · 效果: 工具使用指导",
    },
    "delegate-task": {
      description: "触发短语: &quot;delegate&quot;, &quot;parallel&quot; · 效果: 子 agent 委派",
    },
    "find-skills": {
      description: "触发短语: &quot;what skills&quot;, &quot;find skill&quot; · 效果: 动态 skill 发现",
    },
  }
/>
