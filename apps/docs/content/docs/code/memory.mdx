---
title: Memory System
description: Persistent knowledge across sessions with episodic, semantic, procedural, and working memory
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

# Memory System

A3S Code provides a four-type memory system for persistent knowledge. Memory is auto-registered as a ContextProvider in every session, so relevant memories are automatically included in the LLM context.

## Memory Types

| Type | Purpose | Example |
|------|---------|---------|
| Episodic | Past events and interactions | "User asked about auth refactoring on Monday" |
| Semantic | Facts and knowledge | "User prefers TypeScript over JavaScript" |
| Procedural | How-to knowledge | "Deploy process: build → test → push → apply" |
| Working | Short-term session context | Current task state, recent decisions |

## Store and Retrieve

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
// Store a memory
await client.storeMemory(sessionId, {
  content: 'User prefers TypeScript over JavaScript',
  importance: 0.8,
  tags: ['preference', 'language'],
  memoryType: 'MEMORY_TYPE_SEMANTIC',
});

// Search memories by query and tags
const results = await client.searchMemories(sessionId, 'TypeScript', ['preference'], 10);

// Get memory statistics
const stats = await client.getMemoryStats(sessionId);
```
</Tab>
<Tab value="Python">
```python
await client.store_memory(session_id, {
    "content": "User prefers TypeScript over JavaScript",
    "importance": 0.8,
    "tags": ["preference", "language"],
    "memory_type": "MEMORY_TYPE_SEMANTIC",
})

results = await client.search_memories(session_id, "TypeScript", ["preference"], 10)
stats = await client.get_memory_stats(session_id)
```
</Tab>
</Tabs>

## RPCs

| RPC | Description |
|-----|-------------|
| `storeMemory(sessionId, memory)` | Store a memory item |
| `retrieveMemory(sessionId, memoryId)` | Retrieve memory by ID |
| `searchMemories(sessionId, query, tags, limit)` | Search memories |
| `getMemoryStats(sessionId)` | Get memory statistics |
| `clearMemories(sessionId, options)` | Clear memories by type |

## Context Integration

Memories are automatically surfaced to the LLM when relevant. The `MemoryContextProvider` is registered in every session and queries stored memories based on the current conversation context.

This means the agent "remembers" user preferences, past decisions, and learned procedures without explicit retrieval — they appear in the context automatically.
