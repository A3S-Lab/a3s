---
title: Providers
description: Configure LLM providers, models, and defaults
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

# Provider Configuration

A3S Code supports multiple LLM providers. Providers and their models are configured globally and persisted to disk.

## List Providers

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
const { providers, defaultProvider, defaultModel } = await client.listProviders();
for (const p of providers) {
  console.log(`${p.name} (${p.models.length} models)`);
  for (const m of p.models) {
    console.log(`  - ${m.id}: tool_call=${m.toolCall}, reasoning=${m.reasoning}`);
  }
}
console.log(`Default: ${defaultProvider}/${defaultModel}`);
```
</Tab>
<Tab value="Python">
```python
result = await client.list_providers()
for p in result["providers"]:
    print(f"{p['name']}: {len(p['models'])} models")
```
</Tab>
</Tabs>

## Add Provider

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
await client.addProvider({
  provider: {
    name: 'anthropic',
    apiKey: 'sk-ant-...',
    models: [
      {
        id: 'claude-sonnet-4-20250514',
        name: 'Claude Sonnet 4',
        family: 'claude',
        toolCall: true,
        reasoning: true,
        temperature: true,
      },
      {
        id: 'claude-haiku-4-20250514',
        name: 'Claude Haiku 4',
        family: 'claude',
        toolCall: true,
        reasoning: false,
        temperature: true,
      },
    ],
  },
});
```
</Tab>
<Tab value="Python">
```python
await client.add_provider({
    "name": "anthropic",
    "api_key": "sk-ant-...",
    "models": [
        {
            "id": "claude-sonnet-4-20250514",
            "name": "Claude Sonnet 4",
            "tool_call": True,
            "reasoning": True,
        },
    ],
})
```
</Tab>
</Tabs>

## Get Provider

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
const { provider } = await client.getProvider('anthropic');
console.log(provider.models.map(m => m.id));
```
</Tab>
<Tab value="Python">
```python
result = await client.get_provider("anthropic")
```
</Tab>
</Tabs>

## Update Provider

Replace an existing provider's configuration entirely.

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
await client.updateProvider({
  provider: {
    name: 'anthropic',
    apiKey: 'sk-ant-new-key-...',
    models: [/* updated model list */],
  },
});
```
</Tab>
<Tab value="Python">
```python
await client.update_provider({
    "name": "anthropic",
    "api_key": "sk-ant-new-key-...",
    "models": [{"id": "claude-sonnet-4-20250514", "name": "Claude Sonnet 4", "tool_call": True}],
})
```
</Tab>
</Tabs>

## Remove Provider

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
await client.removeProvider('openai');
```
</Tab>
<Tab value="Python">
```python
await client.remove_provider("openai")
```
</Tab>
</Tabs>

If the removed provider was the default, the default is cleared.

## Set Default Model

Set the default provider and model used for new sessions that don't specify an LLM config.

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
await client.setDefaultModel({
  provider: 'anthropic',
  model: 'claude-sonnet-4-20250514',
});
```
</Tab>
<Tab value="Python">
```python
await client.set_default_model("anthropic", "claude-sonnet-4-20250514")
```
</Tab>
</Tabs>

Both provider and model must exist. The configuration is persisted to disk.

## Get Default Model

<Tabs groupId="lang" items={['TypeScript', 'Python']}>
<Tab value="TypeScript">
```typescript
const { provider, model } = await client.getDefaultModel();
console.log(`${provider}/${model}`);  // 'anthropic/claude-sonnet-4-20250514'
```
</Tab>
<Tab value="Python">
```python
result = await client.get_default_model()
print(f"{result['provider']}/{result['model']}")
```
</Tab>
</Tabs>

## Model Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | string | Model identifier (e.g., `claude-sonnet-4-20250514`) |
| `name` | string | Display name |
| `family` | string | Model family (e.g., `claude`, `gpt`) |
| `apiKey` | string | Per-model API key override (optional) |
| `baseUrl` | string | Per-model base URL override (optional) |
| `toolCall` | bool | Supports tool calling |
| `reasoning` | bool | Supports extended reasoning |
| `attachment` | bool | Supports file attachments |
| `temperature` | bool | Supports temperature parameter |
| `releaseDate` | string | Model release date |
| `modalities` | string | Supported modalities |
| `cost` | string | Cost information |
| `limit` | string | Rate limit information |

## RPCs

| RPC | Description |
|-----|-------------|
| `listProviders()` | List all providers |
| `getProvider(name)` | Get provider details |
| `addProvider(provider)` | Add a new provider |
| `updateProvider(provider)` | Update a provider |
| `removeProvider(name)` | Remove a provider |
| `setDefaultModel(provider, model)` | Set default model |
| `getDefaultModel()` | Get default model |
