---
title: Quick Start
description: Get started with A3S Cron — create jobs, schedule tasks, and monitor execution
---

# Quick Start

## Installation

```toml
[dependencies]
a3s-cron = "0.1"
tokio = { version = "1", features = ["full"] }
```

## Create a Manager

`CronManager` is the primary API. Pass a workspace path for file-based persistence:

```rust
use a3s_cron::CronManager;

let manager = CronManager::new("/home/user").await?;
```

Jobs and execution history are stored under `{workspace}/.a3s/cron/`.

## Add a Job

```rust
// With a cron expression
let job = manager.add_job(
    "db-backup",           // name
    "0 2 * * *",           // schedule: daily at 2:00 AM
    "pg_dump mydb > /backups/db.sql",  // command
).await?;

println!("Job ID: {}", job.id);
println!("Next run: {:?}", job.next_run);
```

## Natural Language Scheduling

```rust
use a3s_cron::parse_natural;

// English
let schedule = parse_natural("every 5 minutes")?;       // → "*/5 * * * *"
let schedule = parse_natural("daily at 2am")?;           // → "0 2 * * *"
let schedule = parse_natural("every weekday at 9am")?;   // → "0 9 * * 1-5"

// Chinese
let schedule = parse_natural("每5分钟")?;                // → "*/5 * * * *"
let schedule = parse_natural("每天凌晨2点")?;            // → "0 2 * * *"
let schedule = parse_natural("工作日上午9点")?;          // → "0 9 * * 1-5"

// Use the parsed schedule
let job = manager.add_job("sync", &schedule, "sync-data.sh").await?;
```

## Start the Scheduler

```rust
// Start background scheduler (checks every 60 seconds)
manager.start().await?;

// ... application runs ...

// Stop when done
manager.stop().await;
```

## Monitor Events

```rust
let mut rx = manager.subscribe();

tokio::spawn(async move {
    while let Ok(event) = rx.recv().await {
        match event {
            SchedulerEvent::JobStarted { job_id, .. } =>
                println!("Started: {}", job_id),
            SchedulerEvent::JobCompleted { job_id, .. } =>
                println!("Completed: {}", job_id),
            SchedulerEvent::JobFailed { job_id, error, .. } =>
                println!("Failed: {} - {}", job_id, error),
            SchedulerEvent::JobTimeout { job_id, .. } =>
                println!("Timeout: {}", job_id),
            _ => {}
        }
    }
});
```

## Manual Execution

Trigger a job immediately, regardless of schedule:

```rust
let execution = manager.run_job(&job.id).await?;
println!("Exit code: {:?}", execution.exit_code);
println!("Stdout: {}", execution.stdout);
println!("Duration: {:?}ms", execution.duration_ms);
```

## Check Execution History

```rust
let history = manager.get_history(&job.id, 10).await?;
for exec in &history {
    println!("[{}] {} - {}ms",
        exec.status, exec.id, exec.duration_ms.unwrap_or(0));
}
```
